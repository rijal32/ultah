<!doctype html>
<html lang="id">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Selamat Ulang Tahun</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      body {
        margin: 0;
        min-height: 100vh;
        background: linear-gradient(-45deg, #ff9a9e, #fad0c4, #fad0c4, #ff9a9e);
        background-size: 400% 400%;
        animation: gradientBG 15s ease infinite;
        font-family: "Dancing Script", cursive;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        overflow-x: hidden;
        position: relative;
      }

      @keyframes gradientBG {
        0% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
        100% {
          background-position: 0% 50%;
        }
      }

      /* Canvas love background */
      #canvas {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 0;
        pointer-events: none;
      }

      /* Kartu utama */
      .main-card {
        position: relative;
        z-index: 10;
        background: rgba(255, 255, 255, 0.9);
        backdrop-filter: blur(12px);
        border-radius: 50px;
        box-shadow: 0 40px 80px rgba(0, 0, 0, 0.3);
        max-width: 1000px;
        width: 95%;
        margin: 20px auto;
        overflow: hidden;
        border: 2px solid rgba(255, 255, 255, 0.5);
        animation: floatCard 3s ease-in-out infinite;
        transform-style: preserve-3d;
      }

      @keyframes floatCard {
        0%,
        100% {
          transform: translateY(0px) rotateX(0deg);
        }
        50% {
          transform: translateY(-8px) rotateX(1deg);
        }
      }

      /* Konten slides */
      .pin-slides-container {
        position: relative;
        width: 100%;
        min-height: 600px;
      }

      .slide {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        display: flex;
        flex-direction: column;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.3s ease;
        background: rgba(255, 255, 255, 0.85);
        border-radius: 50px 50px 0 0;
        padding: 30px;
      }

      .slide.active {
        opacity: 1;
        pointer-events: auto;
        position: relative;
      }

      .content {
        flex: 1;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-align: center;
        padding: 30px;
      }

      h1 {
        font-size: 3.2rem;
        background: linear-gradient(45deg, #f093fb, #f5576c);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        margin: 20px 0;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
      }

      p {
        font-size: 2rem;
        color: #444;
      }

      /* PIN box */
      .pin-box {
        display: flex;
        gap: 15px;
        justify-content: center;
        margin: 30px 0;
      }

      .pin-box input {
        width: 85px;
        height: 100px;
        font-size: 3.2rem;
        text-align: center;
        border-radius: 25px;
        border: 4px solid #ff4d88;
        background: white;
        font-family: "Dancing Script", cursive;
        font-weight: bold;
        color: #ff4d88;
        outline: none;
        box-shadow: 0 10px 0 #b3004b;
      }

      .keyboard {
        margin: 20px 0;
      }

      .keyboard .row {
        display: flex;
        justify-content: center;
        gap: 12px;
        margin: 10px 0;
      }

      .keyboard button {
        width: 90px;
        height: 90px;
        border: none;
        border-radius: 40px;
        font-size: 2.8rem;
        background: #ff4d88;
        color: white;
        font-family: "Dancing Script", cursive;
        font-weight: bold;
        cursor: pointer;
        box-shadow: 0 8px 0 #b3004b;
        transition: 0.1s ease;
      }

      .keyboard button:active {
        transform: translateY(4px);
        box-shadow: 0 4px 0 #b3004b;
      }

      .error {
        color: #d00000;
        font-size: 2rem;
        margin-top: 15px;
      }

      .nav-btns {
        display: flex;
        justify-content: space-between;
        padding: 25px 30px;
        border-top: 2px dashed #ffb3c6;
        background: #fff0f3;
      }

      .btn {
        padding: 15px 40px;
        border: none;
        border-radius: 50px;
        background: #ff4d88;
        color: white;
        font-size: 2rem;
        font-family: "Dancing Script", cursive;
        font-weight: bold;
        cursor: pointer;
        box-shadow: 0 8px 0 #b3004b;
        transition: 0.1s ease;
      }

      .btn:active {
        transform: translateY(4px);
        box-shadow: 0 4px 0 #b3004b;
      }

      img {
        max-width: 90%;
        max-height: 350px;
        border-radius: 40px;
        box-shadow: 0 20px 30px rgba(0, 0, 0, 0.3);
        margin: 20px 0;
        object-fit: cover;
      }

      /* Container utama bagian setelah PIN */
      .gift-container {
        padding: 40px;
        background: rgba(255, 255, 255, 0.9);
        border-radius: 0 0 50px 50px;
      }

      /* Foto polaroid */
      .photo-container {
        position: relative;
        width: 320px;
        height: 320px;
        margin: 20px auto 40px;
        cursor: pointer;
      }

      .photo-frame {
        width: 100%;
        height: 100%;
        border-radius: 35px;
        overflow: hidden;
        border: 10px solid white;
        box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
        transform: rotate(-3deg) scale(0.98);
        transition: all 0.5s;
        animation: photoFloat 4s ease-in-out infinite;
      }

      .photo-frame:hover {
        transform: rotate(0deg) scale(1);
        box-shadow: 0 35px 70px rgba(0, 0, 0, 0.4);
      }

      .photo-frame img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        margin: 0;
        border-radius: 25px;
      }

      .tape {
        position: absolute;
        width: 90px;
        height: 35px;
        background: rgba(255, 255, 255, 0.7);
        top: -12px;
        left: 50%;
        transform: translateX(-50%) rotate(-8deg);
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        z-index: 5;
      }

      @keyframes photoFloat {
        0%,
        100% {
          transform: rotate(-3deg) translateY(0);
        }
        50% {
          transform: rotate(-3deg) translateY(-15px);
        }
      }

      /* Nama dengan efek ketik */
      .nama-istri {
        font-size: 3.5rem;
        font-weight: bold;
        color: #333;
        text-align: center;
        border-right: 5px solid #f5576c;
        white-space: nowrap;
        overflow: hidden;
        margin: 0 auto 25px;
        max-width: fit-content;
        animation:
          typing 4s steps(30, end),
          blink-caret 0.75s step-end infinite;
      }

      @keyframes typing {
        from {
          width: 0;
        }
        to {
          width: 100%;
        }
      }

      @keyframes blink-caret {
        from,
        to {
          border-color: transparent;
        }
        50% {
          border-color: #f5576c;
        }
      }

      .age {
        font-size: 2.5rem;
        color: #f5576c;
        margin: 15px 0;
      }

      .message {
        font-size: 2rem;
        line-height: 1.6;
        color: #3a3a3a;
        background: rgba(255, 230, 240, 0.6);
        border-radius: 70px 70px 70px 0;
        padding: 40px;
        margin: 30px 0;
        box-shadow: inset 0 0 20px #ffe2eb;
      }

      /* Kado grid */
      .gift-section {
        background: rgba(255, 255, 255, 0.7);
        border-radius: 50px;
        padding: 35px 30px;
        margin: 40px 0;
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
      }

      .gift-title {
        font-size: 2.6rem;
        color: #e73c7e;
        text-align: center;
        margin-bottom: 30px;
        animation: bounce 2s infinite;
      }

      @keyframes bounce {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-10px);
        }
      }

      .open-all-btn {
        background: linear-gradient(135deg, #f093fb, #f5576c);
        color: white;
        border: none;
        padding: 18px 45px;
        font-size: 2.3rem;
        font-family: "Dancing Script", cursive;
        border-radius: 70px;
        cursor: pointer;
        margin: 0 auto 40px;
        display: block;
        box-shadow: 0 15px 25px rgba(240, 147, 251, 0.5);
        transition: 0.2s;
      }

      .open-all-btn:active {
        transform: scale(0.96);
      }

      .gift-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 25px;
      }

      .gift-item {
        background: linear-gradient(145deg, #fff5f5, #ffe2e2);
        border-radius: 40px;
        padding: 25px 15px;
        cursor: pointer;
        transition: 0.3s;
        border: 2px solid transparent;
        position: relative;
        display: flex;
        flex-direction: column;
        align-items: center;
        box-shadow: 0 15px 25px rgba(0, 0, 0, 0.1);
      }

      .gift-item:hover {
        transform: translateY(-10px) scale(1.02);
        border-color: #f5576c;
      }

      .gift-item.opened {
        background: #e6f3ff;
        border-color: #23a6d5;
      }

      .gift-icon {
        font-size: 5rem;
        margin-bottom: 15px;
        animation: wiggle 2s infinite;
      }

      @keyframes wiggle {
        0%,
        100% {
          transform: rotate(0deg);
        }
        25% {
          transform: rotate(8deg);
        }
        75% {
          transform: rotate(-8deg);
        }
      }

      .gift-item.opened .gift-icon {
        animation: none;
      }

      .gift-name {
        font-size: 1.9rem;
        font-weight: bold;
        color: #444;
      }

      .gift-message {
        font-size: 1.6rem;
        color: #555;
        margin-top: 15px;
        opacity: 0;
        transform: translateY(10px);
        transition: 0.3s;
        text-align: center;
      }

      .gift-item.opened .gift-message {
        opacity: 1;
        transform: translateY(0);
      }

      .gift-status {
        position: absolute;
        top: 15px;
        right: 15px;
        width: 22px;
        height: 22px;
        background: #4caf50;
        border-radius: 50%;
        display: none;
      }

      .gift-item.opened .gift-status {
        display: block;
      }

      .secret-message {
        margin-top: 40px;
        padding: 30px;
        background: #fff0f5;
        border-radius: 60px;
        font-size: 2.3rem;
        text-align: center;
        color: #b34180;
        border-left: 10px solid #ff4d88;
        animation: slideIn 0.6s;
      }

      /* Slide kado spesial */
      .gift-slide {
        position: relative;
        width: 100%;
        min-height: 600px;
        background: rgba(255, 255, 255, 0.95);
        border-radius: 50px;
        padding: 40px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        z-index: 20;
      }

      .gift-slide img {
        max-width: 400px;
        max-height: 400px;
        border-radius: 50px;
        margin: 20px 0;
        box-shadow: 0 30px 60px rgba(0, 0, 0, 0.3);
      }

      .gift-slide h2 {
        font-size: 3rem;
        color: #ff4d88;
        margin: 20px 0;
        text-align: center;
      }

      .gift-slide p {
        font-size: 2rem;
        color: #555;
        text-align: center;
        max-width: 700px;
        line-height: 1.6;
        margin: 20px 0;
      }

      .back-btn {
        margin-top: 30px;
        padding: 15px 50px;
        font-size: 2.2rem;
      }

      .share-btn {
        background: linear-gradient(145deg, #25d366, #128c7e);
        color: white;
        border: none;
        padding: 20px 50px;
        font-size: 2.5rem;
        font-family: "Dancing Script", cursive;
        border-radius: 70px;
        cursor: pointer;
        margin: 20px auto 15px;
        display: block;
        box-shadow: 0 15px 25px rgba(37, 211, 102, 0.4);
        transition: 0.2s;
      }

      .share-btn:active {
        transform: translateY(4px);
        box-shadow: 0 8px 0 #0f6b5b;
      }

      /* Musik toggle */
      #musicToggle {
        position: fixed;
        bottom: 25px;
        right: 25px;
        z-index: 100;
        padding: 18px 30px;
        background: #ff4d88;
        color: white;
        border: none;
        border-radius: 60px;
        font-size: 2rem;
        font-family: "Dancing Script", cursive;
        cursor: pointer;
        box-shadow: 0 8px 0 #b3004b;
      }

      #musicToggle:active {
        transform: translateY(4px);
        box-shadow: 0 4px 0 #b3004b;
      }

      /* Responsif */
      @media (max-width: 700px) {
        h1 {
          font-size: 2.8rem;
        }
        .nama-istri {
          font-size: 2.5rem;
          white-space: normal;
          border-right: none;
        }
        .pin-box input {
          width: 70px;
          height: 85px;
          font-size: 2.8rem;
        }
        .keyboard button {
          width: 75px;
          height: 75px;
          font-size: 2.4rem;
        }
        .btn {
          font-size: 1.8rem;
          padding: 12px 30px;
        }
        .gift-grid {
          grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
        }
        .gift-slide img {
          max-width: 280px;
          max-height: 280px;
        }
        .gift-slide p {
          font-size: 1.8rem;
        }
      }
    </style>
  </head>
  <body>
    <canvas id="canvas"></canvas>

    <div class="main-card">
      <!-- Bagian slide PIN (slide 1-5) -->
      <div class="pin-slides-container" id="pinSlides">
        <!-- Slide 1: PIN -->
        <div class="slide active" id="slide1">
          <div class="content">
            <h1>üîê Masukkan PIN</h1>
            <div class="pin-box">
              <input type="password" maxlength="1" readonly />
              <input type="password" maxlength="1" readonly />
              <input type="password" maxlength="1" readonly />
              <input type="password" maxlength="1" readonly />
            </div>
            <div class="keyboard">
              <div class="row">
                <button onclick="pressNum(1)">1</button>
                <button onclick="pressNum(2)">2</button>
                <button onclick="pressNum(3)">3</button>
              </div>
              <div class="row">
                <button onclick="pressNum(4)">4</button>
                <button onclick="pressNum(5)">5</button>
                <button onclick="pressNum(6)">6</button>
              </div>
              <div class="row">
                <button onclick="pressNum(7)">7</button>
                <button onclick="pressNum(8)">8</button>
                <button onclick="pressNum(9)">9</button>
              </div>
              <div class="row">
                <button onclick="deleteNum()">‚å´</button>
                <button onclick="pressNum(0)">0</button>
                <button onclick="checkPin()">‚úî</button>
              </div>
            </div>
            <div class="error" id="errorMsg"></div>
            <p style="margin-top: 20px; font-size: 1.8rem">
              <i>* Clue: tahun lahirmu (1392)</i>
            </p>
          </div>
        </div>

        <!-- Slide 2 -->
        <div class="slide" id="slide2">
          <div class="content">
            <h1>üéâ Selamat Ulang Tahun</h1>
            <img
              src="birthday.gif"
              alt="birthday"
              onerror="
                this.src =
                  'data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 100 100\'%3E%3Ccircle cx=\'50\' cy=\'50\' r=\'45\' fill=\'%23ffcc80\' /%3E%3Ctext x=\'25\' y=\'70\' font-size=\'50\' fill=\'%23ff4d88\'%3EüéÇ%3C/text%3E%3C/svg%3E'
              "
            />
            <p>Semoga hari ini penuh tawa & cinta</p>
          </div>
          <div class="nav-btns">
            <button class="btn" onclick="prevSlide()">‚¨Ö Kembali</button
            ><button class="btn" onclick="nextSlide()">Lanjut ‚û°</button>
          </div>
        </div>

        <!-- Slide 3 -->
        <div class="slide" id="slide3">
          <div class="content">
            <h1>‚ú® Doa & Harapan</h1>
            <img
              src="hope.gif"
              alt="hope"
              onerror="
                this.src =
                  'data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 100 100\'%3E%3Cpath fill=\'%23fff0f5\' d=\'M50 20 L80 70 L20 70 Z\' /%3E%3C/svg%3E'
              "
            />
            <p>Sehat selalu, panjang umur, dilimpahi berkah</p>
          </div>
          <div class="nav-btns">
            <button class="btn" onclick="prevSlide()">‚¨Ö Kembali</button
            ><button class="btn" onclick="nextSlide()">Lanjut ‚û°</button>
          </div>
        </div>

        <!-- Slide 4 -->
        <div class="slide" id="slide4">
          <div class="content">
            <img
              src="thanks.gif"
              alt="romantic"
              onerror="
                this.src =
                  'data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 100 100\'%3E%3Ccircle cx=\'50\' cy=\'40\' r=\'20\' fill=\'%23ffe0f0\' /%3E%3Cpath d=\'M30 60 Q50 80 70 60\' stroke=\'%23ff4d88\' stroke-width=\'5\' fill=\'none\' /%3E%3C/svg%3E'
              "
            />
            <p>Kamu anugerah terindah dalam hidupku</p>
          </div>
          <div class="nav-btns">
            <button class="btn" onclick="prevSlide()">‚¨Ö Kembali</button
            ><button class="btn" onclick="nextSlide()">Lanjut ‚û°</button>
          </div>
        </div>

        <!-- Slide 5 -->
        <div class="slide" id="slide5">
          <div class="content">
            <img
              src="1.jpeg"
              alt="thanks"
              onerror="
                this.src =
                  'data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 100 100\'%3E%3Ctext x=\'20\' y=\'70\' font-size=\'70\' fill=\'%23ff80ab\'%3E‚ù§Ô∏è%3C/text%3E%3C/svg%3E'
              "
            />
            <p>Terima kasih telah menjadi bagian penting dalam hidupku</p>
          </div>
          <div class="nav-btns" style="justify-content: center">
            <button class="btn" onclick="prevSlide()">‚¨Ö Kembali</button
            ><button class="btn" onclick="nextSlide()">Masuk ke Kado üéÅ</button>
          </div>
        </div>
      </div>

      <!-- Setelah slide 5, muncul konten kado -->
      <div id="giftFullSection" style="display: none; position: relative">
        <!-- Halaman utama kado (grid) -->
        <div id="mainGiftPage">
          <div class="gift-container">
            <!-- foto + nama - SEKARANG MENGGUNAKAN 2.JPEG -->
            <div class="photo-container" onclick="createHearts()">
              <div class="tape"></div>
              <div class="photo-frame">
                <img
                  src="2.jpeg"
                  alt="foto-istri"
                  onerror="
                    this.src =
                      'data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 200 200\'%3E%3Ccircle cx=\'100\' cy=\'80\' r=\'50\' fill=\'%23f9c7c7\'/%3E%3Cpath d=\'M60 140 Q100 190 140 140\' stroke=\'%23b34180\' stroke-width=\'8\' fill=\'none\'/%3E%3C/svg%3E'
                  "
                />
              </div>
            </div>

            <h1>üéâ Selamat Ulang Tahun! üéâ</h1>
            <div class="nama-istri" id="namaIstri">Istriku Sayang</div>
            <div class="age" id="usiaIstri">üéÇ Ke-34 Tahun üéÇ</div>

            <div class="message" id="ucapan">
              Untuk istriku tersayang,<br /><br />
              Di hari istimewamu ini, aku ingin kamu tahu<br />
              betapa bersyukurnya aku memilikimu.<br />
              Kamu adalah hadiah terindah.<br /><br />
              ‚ù§Ô∏è I Love You More ‚ù§Ô∏è
            </div>

            <!-- Kado interaktif -->
            <div class="gift-section">
              <h2 class="gift-title">üéÅ Buka Kado Spesial Untukmu üéÅ</h2>
              <button
                class="open-all-btn"
                onclick="openAllGifts()"
                id="openAllBtn"
              >
                ‚ú® Buka Semua ‚ú®
              </button>
              <div class="gift-grid" id="giftGrid">
                <!-- Kado 1-6 - setiap klik buka slide dengan foto 3.jpeg, 4.jpeg, dst -->
                <div class="gift-item" onclick="openGiftSlide(0)" id="gift0">
                  <div class="gift-status"></div>
                  <div class="gift-icon">üíù</div>
                  <div class="gift-name">Cinta Abadi</div>
                  <div class="gift-message">
                    Aku akan mencintaimu selamanya! ‚ù§Ô∏è
                  </div>
                </div>
                <div class="gift-item" onclick="openGiftSlide(1)" id="gift1">
                  <div class="gift-status"></div>
                  <div class="gift-icon">üåπ</div>
                  <div class="gift-name">Bunga Mawar</div>
                  <div class="gift-message">Mawar merah untuk cintaku</div>
                </div>
                <div class="gift-item" onclick="openGiftSlide(2)" id="gift2">
                  <div class="gift-status"></div>
                  <div class="gift-icon">üç´</div>
                  <div class="gift-name">Cokelat</div>
                  <div class="gift-message">Semanis senyumanmu</div>
                </div>
                <div class="gift-item" onclick="openGiftSlide(3)" id="gift3">
                  <div class="gift-status"></div>
                  <div class="gift-icon">üíç</div>
                  <div class="gift-name">Janji Suci</div>
                  <div class="gift-message">Terima kasih jadi istriku</div>
                </div>
                <div class="gift-item" onclick="openGiftSlide(4)" id="gift4">
                  <div class="gift-status"></div>
                  <div class="gift-icon">‚úàÔ∏è</div>
                  <div class="gift-name">Liburan</div>
                  <div class="gift-message">Kita akan liburan!</div>
                </div>
                <div class="gift-item" onclick="openGiftSlide(5)" id="gift5">
                  <div class="gift-status"></div>
                  <div class="gift-icon">üéÇ</div>
                  <div class="gift-name">Kue Ultah</div>
                  <div class="gift-message">Selamat ulang tahun sayang</div>
                </div>
              </div>
              <div
                id="secretMessage"
                class="secret-message"
                style="display: none"
              >
                üéâ SELAMAT! Semua kado terbuka! üéâ<br />Cintaku adalah hadiah
                terbesar ‚ù§Ô∏è
              </div>
            </div>

            <button class="share-btn" onclick="shareWA()">
              üì± Bagikan ke WhatsApp
            </button>

            <!-- Tombol Kembali ke slide awal -->
            <div
              style="display: flex; justify-content: center; margin-top: 20px"
            >
              <button class="btn" onclick="kembaliKeSlide()">
                ‚¨Ö Kembali ke Awal
              </button>
            </div>
          </div>
        </div>

        <!-- Container untuk slide kado spesial (akan diisi secara dinamis) -->
        <div id="giftSlideContainer"></div>
      </div>
    </div>

    <button id="musicToggle" onclick="toggleMusic()">‚ñ∂ Play Musik</button>

    <script>
      // ========== DATA KADO DENGAN FOTO 3.JPEG DAN SETERUSNYA ==========
      const giftData = [
        {
          icon: "üíù",
          name: "Cinta Abadi",
          message: "Aku akan mencintaimu selamanya! ‚ù§Ô∏è",
          photo: "3.jpeg", // Foto untuk kado 1 (Cinta Abadi)
          fallbackPhoto:
            "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 200'%3E%3Ccircle cx='100' cy='80' r='50' fill='%23ffb3c6'/%3E%3Cpath d='M60 140 Q100 190 140 140' stroke='%23ff4d88' stroke-width='8' fill='none'/%3E%3Ctext x='70' y='100' font-size='40' fill='%23ff4d88'%3E‚ù§Ô∏è%3C/text%3E%3C/svg%3E",
          longMessage:
            "Cintaku padamu akan abadi selamanya. Kamu adalah belahan jiwaku, teman hidupku, dan segalanya bagiku. Setiap detik bersamamu adalah anugerah terindah. Aku berjanji akan selalu menjagamu dan mencintaimu sampai akhir waktu.",
        },
        {
          icon: "üåπ",
          name: "Bunga Mawar",
          message: "Mawar merah untuk cintaku",
          photo: "4.jpeg", // Foto untuk kado 2 (Bunga Mawar)
          fallbackPhoto:
            "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 200'%3E%3Ccircle cx='100' cy='100' r='80' fill='%23ff4d4d'/%3E%3Ccircle cx='70' cy='70' r='20' fill='%23ffb3b3'/%3E%3Ccircle cx='130' cy='70' r='20' fill='%23ffb3b3'/%3E%3C/svg%3E",
          longMessage:
            "Mawar merah ini melambangkan cintaku yang membara untukmu. Setiap kelopaknya adalah harapan dan doa agar kita selalu bersama. Tak ada yang lebih indah dari melihat senyummu setiap hari. Selamat ulang tahun, cintaku.",
        },
        {
          icon: "üç´",
          name: "Cokelat",
          message: "Semanis senyumanmu",
          photo: "5.jpeg", // Foto untuk kado 3 (Cokelat)
          fallbackPhoto:
            "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 200'%3E%3Crect x='50' y='50' width='100' height='100' fill='%2384513e'/%3E%3Ccircle cx='100' cy='100' r='30' fill='%23f4a460'/%3E%3C/svg%3E",
          longMessage:
            "Semanis cokelat ini, itulah senyumanmu. Tapi tidak ada yang lebih manis dari kebersamaan kita. Setiap hari bersamamu adalah hadiah terindah. Selamat ulang tahun, sayang. Semoga hidupmu selalu dipenuhi kebahagiaan.",
        },
        {
          icon: "üíç",
          name: "Janji Suci",
          message: "Terima kasih jadi istriku",
          photo: "6.jpeg", // Foto untuk kado 4 (Janji Suci)
          fallbackPhoto:
            "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 200'%3E%3Ccircle cx='100' cy='100' r='50' fill='%23ffe066'/%3E%3Ccircle cx='100' cy='100' r='20' fill='%23ffd700'/%3E%3C/svg%3E",
          longMessage:
            "Terima kasih telah menerima janji suci ini. Kau membuat hidupku sempurna. Aku berjanji akan selalu menjagamu, sekarang dan selamanya. Tak ada hari yang kulalui tanpa bersyukur memilikimu sebagai istriku.",
        },
        {
          icon: "‚úàÔ∏è",
          name: "Liburan",
          message: "Kita akan liburan!",
          photo: "7.jpeg", // Foto untuk kado 5 (Liburan)
          fallbackPhoto:
            "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 200'%3E%3Ccircle cx='100' cy='100' r='80' fill='%234db8ff'/%3E%3Ctext x='60' y='130' font-size='80' fill='white'%3E‚úàÔ∏è%3C/text%3E%3C/svg%3E",
          longMessage:
            "Liburan impian kita akan segera terwujud! Aku sudah merencanakan sesuatu yang spesial untuk kita berdua. Bersiaplah untuk petualangan baru bersama! Kita akan membuat kenangan indah yang tak terlupakan.",
        },
        {
          icon: "üéÇ",
          name: "Kue Ultah",
          message: "Selamat ulang tahun sayang",
          photo: "8.jpeg", // Foto untuk kado 6 (Kue Ultah)
          fallbackPhoto:
            "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 200'%3E%3Crect x='50' y='80' width='100' height='70' fill='%23ffcc80'/%3E%3Ccircle cx='100' cy='50' r='30' fill='%23ffb3b3'/%3E%3C/svg%3E",
          longMessage:
            "Selamat ulang tahun untuk pasangan hidupku! Semoga setiap tahun yang kau lewati selalu dipenuhi kebahagiaan. Aku beruntung memilikimu. Semoga panjang umur, sehat selalu, dan kita selalu bersama dalam suka maupun duka.",
        },
      ];

      // ========== SLIDE MANAJEMEN ==========
      let currentSlide = 1;
      const slides = document.querySelectorAll(".slide");
      const pinSlidesContainer = document.getElementById("pinSlides");
      const giftSection = document.getElementById("giftFullSection");
      const mainGiftPage = document.getElementById("mainGiftPage");
      const giftSlideContainer = document.getElementById("giftSlideContainer");

      function showSlide(index) {
        slides.forEach((s) => s.classList.remove("active"));
        document.getElementById(`slide${index}`).classList.add("active");
        currentSlide = index;
      }

      function nextSlide() {
        if (currentSlide < 5) {
          showSlide(currentSlide + 1);
        } else if (currentSlide === 5) {
          pinSlidesContainer.style.display = "none";
          giftSection.style.display = "block";
          // Pastikan halaman utama kado tampil
          mainGiftPage.style.display = "block";
          giftSlideContainer.innerHTML = "";
        }
      }

      function prevSlide() {
        if (currentSlide > 1) {
          showSlide(currentSlide - 1);
        }
      }

      function kembaliKeSlide() {
        pinSlidesContainer.style.display = "block";
        giftSection.style.display = "none";
        showSlide(1);
        const inputs = document.querySelectorAll("#slide1 input");
        inputs.forEach((i) => (i.value = ""));
        document.getElementById("errorMsg").innerText = "";
      }

      // ========== FUNGSI SLIDE KADO DENGAN FOTO ==========
      function openGiftSlide(index) {
        // Tandai kado sebagai terbuka
        if (!openedGifts[index]) {
          openedGifts[index] = true;
          localStorage.setItem("openedGifts", JSON.stringify(openedGifts));
          updateGiftDisplay();
        }

        // Sembunyikan halaman utama kado
        mainGiftPage.style.display = "none";

        // Buat slide kado spesial dengan foto (3.jpeg, 4.jpeg, dst)
        const data = giftData[index];

        const slideHtml = `
        <div class="gift-slide" id="giftSlide-${index}" style="display: flex; flex-direction: column; align-items: center;">
          <h2>üéÅ ${data.name} üéÅ</h2>
          <img src="${data.photo}" alt="${data.name}" 
               onerror="this.src='${data.fallbackPhoto}'"
               style="max-width: 350px; max-height: 350px; border-radius: 40px; margin: 20px 0; object-fit: cover;">
          <p style="font-size: 2rem; text-align: center; max-width: 800px; margin: 20px; line-height: 1.6;">${data.longMessage}</p>
          <button class="btn back-btn" onclick="closeGiftSlide()" style="margin-top: 30px; padding: 15px 50px; font-size: 2.2rem;">‚¨Ö Kembali ke Daftar Kado</button>
        </div>
      `;

        giftSlideContainer.innerHTML = slideHtml;

        // Efek hati
        createHearts();
      }

      function closeGiftSlide() {
        // Tampilkan kembali halaman utama kado
        mainGiftPage.style.display = "block";
        giftSlideContainer.innerHTML = "";
      }

      // ========== PIN ==========
      function pressNum(num) {
        const inputs = document.querySelectorAll("#slide1 input");
        for (let i = 0; i < inputs.length; i++) {
          if (inputs[i].value === "") {
            inputs[i].value = num;
            break;
          }
        }
      }
      function deleteNum() {
        const inputs = document.querySelectorAll("#slide1 input");
        for (let i = inputs.length - 1; i >= 0; i--) {
          if (inputs[i].value !== "") {
            inputs[i].value = "";
            break;
          }
        }
      }
      function checkPin() {
        const inputs = document.querySelectorAll("#slide1 input");
        const pin = [...inputs].map((i) => i.value).join("");
        if (pin === "1392") {
          showSlide(2);
          document.getElementById("errorMsg").innerText = "";
        } else {
          document.getElementById("errorMsg").innerText = "PIN salah!";
          inputs.forEach((i) => (i.value = ""));
        }
      }

      // ========== LOVE CANVAS ==========
      const canvas = document.getElementById("canvas");
      const ctx = canvas.getContext("2d");
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;

      class HeartParticle {
        constructor() {
          this.x = Math.random() * canvas.width;
          this.y = canvas.height + Math.random() * 100;
          this.size = 10 + Math.random() * 25;
          this.speed = 0.5 + Math.random() * 1.5;
          this.alpha = 0.4 + Math.random() * 0.5;
          this.color = `rgba(255, 80, 130, ${this.alpha})`;
        }
        draw() {
          ctx.save();
          ctx.translate(this.x, this.y);
          ctx.fillStyle = this.color;
          ctx.beginPath();
          ctx.moveTo(0, -this.size / 2);
          ctx.bezierCurveTo(
            this.size / 2,
            -this.size,
            this.size,
            -this.size / 4,
            0,
            this.size,
          );
          ctx.bezierCurveTo(
            -this.size,
            -this.size / 4,
            -this.size / 2,
            -this.size,
            0,
            -this.size / 2,
          );
          ctx.closePath();
          ctx.fill();
          ctx.restore();
        }
        update() {
          this.y -= this.speed;
          if (this.y < -50) {
            this.y = canvas.height + 50;
            this.x = Math.random() * canvas.width;
          }
          this.draw();
        }
      }
      let heartsArray = [];
      for (let i = 0; i < 35; i++) heartsArray.push(new HeartParticle());
      function animateHearts() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        heartsArray.forEach((h) => h.update());
        requestAnimationFrame(animateHearts);
      }
      animateHearts();

      window.addEventListener("resize", () => {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
      });

      // ========== MUSIK ==========
      let audio = new Audio("musik.mp3"); // Langsung set file musik
      audio.loop = true;
      let isPlaying = false;

      function toggleMusic() {
        if (!audio.src) {
          alert("Tambahkan file musik.mp3 untuk mendengar lagu");
          return;
        }

        if (isPlaying) {
          audio.pause();
          isPlaying = false;
          document.getElementById("musicToggle").innerText = "‚ñ∂ Play Musik";
        } else {
          audio.play().catch(() => alert("Gagal memutar, coba klik lagi"));
          isPlaying = true;
          document.getElementById("musicToggle").innerText = "‚è∏ Stop Musik";
        }
      }

      // ========== FUNGSI KADO ==========
      let openedGifts = JSON.parse(localStorage.getItem("openedGifts")) || [
        false,
        false,
        false,
        false,
        false,
        false,
      ];
      function updateGiftDisplay() {
        for (let i = 0; i < 6; i++) {
          const el = document.getElementById(`gift${i}`);
          if (openedGifts[i]) el.classList.add("opened");
          else el.classList.remove("opened");
        }
        if (openedGifts.every((v) => v === true)) {
          document.getElementById("secretMessage").style.display = "block";
        } else {
          document.getElementById("secretMessage").style.display = "none";
        }
      }

      window.openAllGifts = function () {
        openedGifts = [true, true, true, true, true, true];
        localStorage.setItem("openedGifts", JSON.stringify(openedGifts));
        updateGiftDisplay();
        for (let i = 0; i < 10; i++) createHearts();
      };

      window.createHearts = function () {
        for (let i = 0; i < 8; i++) {
          let heart = document.createElement("div");
          heart.className = "heart";
          heart.innerText = "‚ù§Ô∏è";
          heart.style.left = Math.random() * 100 + "%";
          heart.style.animationDuration = 2 + Math.random() * 3 + "s";
          heart.style.fontSize = 15 + Math.random() * 25 + "px";
          heart.style.position = "fixed";
          heart.style.zIndex = "9999";
          heart.style.pointerEvents = "none";
          document.body.appendChild(heart);
          setTimeout(() => heart.remove(), 4000);
        }
      };

      window.shareWA = function () {
        let text = encodeURIComponent(
          "Hari ini spesial! Lihat ucapan ulang tahun untukku ‚ù§Ô∏è",
        );
        window.open(`https://wa.me/?text=${text}`, "_blank");
      };

      // Panggil update awal
      updateGiftDisplay();

      // Style untuk heart animasi
      const style = document.createElement("style");
      style.innerHTML = `
      .heart {
        position: fixed;
        color: #ff4d88;
        font-size: 24px;
        user-select: none;
        pointer-events: none;
        animation: heartFloat linear forwards;
        z-index: 9999;
      }
      @keyframes heartFloat {
        0% { transform: translateY(100vh) scale(0.3); opacity: 0; }
        20% { opacity: 1; }
        100% { transform: translateY(-100px) scale(1.5); opacity: 0; }
      }
    `;
      document.head.appendChild(style);
    </script>
  </body>
</html>
